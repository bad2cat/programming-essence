#### 抽象工厂模式

抽象工厂模式是一种创建型设计模式，它能创建一系列相关的对象，而不需要指定具体的类。

#### 解决的问题

工厂模式已经能够解决一条生产线的问题了；比如：快递公司的分类（Category），存储(Store)，运输功能(Transfer)；这条生产线要是再添加其他的功能，比如：通知用户，那么只需要再加一个 Notification 类，就可以了

但是如果现在有其他的变种，比如：分类方式（按目的地分类，还是按货物的类目分类），存储方式（冷藏，还是常温的存储），运输方式（陆路，水路，还是航空）

这种多样的行为，如果仅用一条生产先就会变的手忙脚乱，而且之后的任何变化都得对这整块的代码进行更改；

所以，为了应对这种不断的变化，就抽象出一个统一的接口，让每条生产线都实现这个接口中定义的方法就好了；比如：现在有两种快递类型，第一种：适合生鲜冷藏的，第二种：适合常温运输的，则首先定义抽象接口

```
type AbstractFactory interface{
    CreateCategory() Category
    CreateStore() Store
    CreateTransfer() Transfer
}

type FreshFactory struct{}
func (f *FreshFactory)  CreateCategory() Category{
    
}
func (f *FreshFactory)  CreateStore() Store{
    
}
func (f *FreshFactory)  CreateTransfer() Transfer{
    
}

type Ordinary struct{}
func (f *Ordinary)  CreateCategory() Category{
    
}
func (f *Ordinary)  CreateStore() Store{
    
}
func (f *Ordinary)  CreateTransfer() Transfer{
    
}
```

这样，如果之后还需要增加一条生产线的话，那么只需要实现`AbstractFactory`这个接口就可以了，不需要再更改之前已经成熟的生产线了；这就能很好的实现对不同的产线的扩展了

#### 优缺点

优点：

1. 确保同一工厂生产的产品相互匹配
2. 避免客户端和具体的代码耦合
3. 单一职责原则，可以将产品生成代码抽取到同一位置，使得代码易于维护
4. 开闭原则，向产品引入新的变体时，不需要更改客户端代码

缺点：

- 引入了过多的类和接口，代码会变的比之前复杂